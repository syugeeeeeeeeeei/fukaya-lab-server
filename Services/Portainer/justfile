# /Services/portainer/justfile

SERVICE_NAME := shell("basename $(pwd)")

_default:
  @just --list -u

[doc("Portainer ã‚µãƒ¼ãƒ“ã‚¹ã¯ãƒ“ãƒ«ãƒ‰ä¸è¦ã§ã™ï¼ˆæ—¢å­˜ã‚¤ãƒ¡ãƒ¼ã‚¸åˆ©ç”¨ï¼‰ã€‚")]
build:
    @echo "â„¹ï¸ [{{SERVICE_NAME}}] Building"
    @podman-compose --env-file ../../.env build

[doc("Portainer ã® Pod ã‚’èµ·å‹•ã—ã¾ã™ã€‚")]
up:
    @echo "ğŸš€ [{{SERVICE_NAME}}] Starting"
    @podman-compose --env-file ../../.env up -d

[doc("Portainer ã® Pod ã‚’åœæ­¢ã—ã¾ã™ã€‚")]
down:
    @echo "ğŸ›‘ [{{SERVICE_NAME}}] Stopping"
    @podman-compose --env-file ../../.env down

[doc("Portainer ã® Podã¨Volume ã‚’åœæ­¢ã—ã¾ã™ã€‚")]
down-v:
    @echo "ğŸ—‘ï¸ [{{SERVICE_NAME}}] Stopping pod and deleting volumes..."
    @podman-compose down --volumes