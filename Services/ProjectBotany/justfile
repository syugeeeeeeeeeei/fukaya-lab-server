# /Services/ProjectBotany/justfile (ä¿®æ­£å¾Œ)

SERVICE_NAME := shell("basename $(pwd)")

_default:
  @just --list -u

[doc("ProjectBotany ã‚µãƒ¼ãƒ“ã‚¹ã«å¿…è¦ãª Podman ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚")]
build:
    @echo "ğŸ”¨ [{{SERVICE_NAME}}] Building images"
    @docker compose --env-file ../../.env build
    @echo "âœ… [{{SERVICE_NAME}}] images built"

[doc("ProjectBotany ã® Pod ã‚’èµ·å‹•ã—ã¾ã™ã€‚")]
up: build
    @echo "ğŸš€ [{{SERVICE_NAME}}] Starting"
    @docker compose --env-file ../../.env up -d

[doc("ProjectBotany ã® Pod ã‚’åœæ­¢ã—ã¾ã™ã€‚")]
down:
    @echo "ğŸ›‘ [{{SERVICE_NAME}}] Stopping"
    @docker compose --env-file ../../.env down

[doc("ProjectBotany ã® Podã¨Volume ã‚’åœæ­¢ã—ã¾ã™ã€‚")]
down-v:
    @echo "ğŸ—‘ï¸ [{{SERVICE_NAME}}] Stopping pod and deleting volumes..."
    @docker compose down --volumes