# /Services/gitlab/justfile (ä¿®æ­£å¾Œ)

SERVICE_NAME := shell("basename $(pwd)")

_default:
  @just --list -u

# [å¤‰æ›´] ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®šã«å¯¾å¿œ
build profile='dev':
    @echo "==> ðŸ”¨ Building {{SERVICE_NAME}} (Profile: {{profile}})..."
    @docker compose --env-file ../../.env --profile {{profile}} build

# [å¤‰æ›´] ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®šã«å¯¾å¿œ
up profile='dev': build
    @echo "--> ðŸš€ Starting {{SERVICE_NAME}} (Profile: {{profile}})"
    @docker compose --env-file ../../.env --profile {{profile}} up -d